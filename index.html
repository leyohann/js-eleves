<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
</head>

<body>
    <div id="array">

    </div>
    <script>
        function load_students_API(students) {
            console.log(students);
            let ul = document.createElement("ul");
            for (student of students) {
                let li = document.createElement('li')
                li.innerHTML += student;
                ul.appendChild(li)
            }
            document.getElementById("array").appendChild(li);
        }
        function load_students() {
            fetch('./etudiants.json')
                .then(data => data.json())
                .then(results => load_url_students(results.students))
        }
        load_students();
        function load_url_students(students) {
            let link = document.createElement("a");
            let d = document.createElement("div");

            for (student of students) {
                fetch("https://api.github.com/users/" + student, {
                    headers: new Headers({ "Authorization": "Bearer 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" })
                })
                    .then(data => data.json())
                    .then(response => console.log(response.login + " " + response.avatar_url))
            }
        }
    </script>
</body>

</html>